<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPF Client v3.0 - Test Page</title>
    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="../../shared/styles.css">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="client-integrated.css">
    <style>
        body { padding: 20px; }
        .test-controls {
            background: #f0f0f0;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .test-status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .test-status.success { background: #d4edda; color: #155724; }
        .test-status.error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="test-controls">
        <h1>üß™ CPF Client v3.0 - Test Page</h1>
        <p><strong>Status:</strong> Testing refactored version</p>
        <button onclick="testLoadIndicator()">Load Test Indicator (9.1)</button>
        <button onclick="testNamespaceAvailable()">Check Namespace</button>
        <button onclick="compareWithV2()">Compare with v2.0</button>
        <div id="test-output"></div>
    </div>

    <div id="content"></div>

    <script src="client-integrated.js"></script>
    <script>
        function testNamespaceAvailable() {
            const output = document.getElementById('test-output');
            if (typeof window.CPFClient !== 'undefined') {
                output.innerHTML = '<div class="test-status success">‚úÖ window.CPFClient is available</div>';
                console.log('CPFClient methods:', Object.keys(window.CPFClient));
            } else {
                output.innerHTML = '<div class="test-status error">‚ùå window.CPFClient NOT available</div>';
            }
        }

        function testLoadIndicator() {
            if (window.CPFClient && window.CPFClient.loadJSON) {
                window.CPFClient.loadJSON('9.1', 'EN');
                document.getElementById('test-output').innerHTML =
                    '<div class="test-status success">‚úÖ Loading indicator 9.1...</div>';
            } else {
                document.getElementById('test-output').innerHTML =
                    '<div class="test-status error">‚ùå CPFClient.loadJSON not available</div>';
            }
        }

        function compareWithV2() {
            alert('TODO: Implement comparison tool');
        }

        // Auto-test on load
        setTimeout(testNamespaceAvailable, 500);
    </script>
</body>
</html>
